<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vantage</title>
    <link rel="stylesheet" href="css/themes/Blue.min.css" />
    <link rel="stylesheet" href="datepicker/jquery.mobile.datepicker.css" />
    <link rel="stylesheet" href="datepicker/jquery.mobile.datepicker.theme.css" />
    <link rel="stylesheet" href="css/themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="css/jquery.mobile.structure-1.4.5.min.css" />
    
    <script src="js/jquery-2.0.3.js"></script>
    <script src="js/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="datepicker/external/jquery-ui/datepicker.js"></script>
    <script src="datepicker/jquery.mobile.datepicker.js"></script>
    <script src="js/appUtils.js"></script>
    <script src="js/sqliteCode.js"></script>
    <script src="js/appCode.js"></script>
    <style type="text/css">
        .ui-icon-moneyicon:after {
            background-image: url("css/themes/images/SVG/money.svg");
        }
        /* Fallback */
        .ui-nosvg .ui-icon-moneyicon:after {
            background-image: url("css/themes/images/icons-png/money.png");
        }
        .login  {
            background-image: url("css/themes/images/loginImage2.jpg");
            background-color: #cccccc;
            background-repeat:no-repeat;
            
        }
        tr {
            border-bottom: 1px solid #d6d6d6;
        }

        .loginButton{
            background-color: initial;
            width: 50px;
            margin-left: 37% !important;
            margin-right: 10% !important;
        }
        .loginInput2{
            margin-left: 30% !important;
            width:145px !important;
            opacity:0.6 !important;
        }
        
    </style>
</head>
<body>
    <!-- login page -->
    <div data-role="page" id="login" class="login" data-theme="a">
        <div style="margin-top:14%; padding:15%"data-role="main" class="ui-content">
            <input type="text" name="log" id="userId" placeholder="userid" class="loginInput" value="" ></input>
            <input type="password" name="pwd" id="userPwd" placeholder="password" class="loginInput" value=""></input>
            <button style="margin-left:25%" class="ui-btn ui-btn-inline ui-corner-all" id="btnLogin">Login</button>
            <label id="invalidLogin" style="margin-left:25%;color:red;font-weight:bold;display:none;">Invalide Credentials</label> 
        </div >
    </div>
    <!-- Home Page -->
    <div data-role="page" id="home" data-theme="a">
        <div data-role="panel" id="myPanel" data-display="overlay" data-position="right"> 
            <ul data-role="listview" data-theme="a" data-divider-theme="a" style="margin-top:-16px;" class="nav-search">
                <li data-filtertext="wai-aria voiceover accessibility screen reader">
                    <a class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-user" id="menuProfile" href="#profile">Profile</a>
                </li>
                <li data-filtertext="accordions collapsible set collapsible-set collapsed">
                    <a class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-moneyicon" id="menuPay" href="#paypage">Pay</a>
                </li>
                <li data-filtertext="wai-aria voiceover accessibility screen reader">
                    <a class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-clock" id="menuTimecard" href="#timecard">Time Card</a>
                </li>
                <!-- <li data-filtertext="wai-aria voiceover accessibility screen reader">
                    <a class="ui-btn  ui-corner-all ui-shadow ui-icon-calendar ui-btn-icon-left"href="#calendar">Calendar</a>
                </li> -->
                <li data-filtertext="wai-aria voiceover accessibility screen reader">
                    <a class="ui-btn  ui-corner-all ui-shadow ui-icon-calendar ui-btn-icon-left" id="menuLeaves" href="#leavepage">Leaves</a>
                </li>
                <li data-filtertext="wai-aria voiceover accessibility screen reader">
                    <a class="ui-btn  ui-corner-all ui-shadow ui-icon-lock ui-btn-icon-left" id="menuLogout" href="#login">Logout</a>
                </li>
             </ul>               
        </div>
        
        <div data-role="header" data-position="fixed">
            <span>
                <a href="#" style="background-color:#50a7e6;border:0;margin-left:1%;" class="ui-btn  ui-corner-all ui-shadow ui-icon-home ui-btn-icon-notext"></a>
                <a href="#" style="background-color:#50a7e6;border:0;margin-left:2%;" id="logClockIcon" class="ui-btn  ui-corner-all ui-shadow ui-icon-clock ui-btn-icon-notext"></a>
                <span style="color:#FFFAF0;margin-left:52%;" id="userName"></span>
                <a  href="#myPanel" style="background-color:#50a7e6;border:0;margin-right:1%;" class="ui-btn ui-btn-right ui-corner-all ui-shadow ui-icon-bars ui-btn-icon-notext"></a>
            </span>
        </div>
        <!-- <div data-role="footer" data-position="fixed">
           
            <h1>my Day</h1>
            
        </div> -->

        <ul data-role="listview">
          
          <li data-icon="false">
            <a href="#"><img src="css/themes/images/clockIcon.png">
                <h2 class="">Your Time</h2>
                <p class=""><strong id="logTime1"></strong></p>
                <p class=""><strong id="logTime2"></strong></p>
            </a>
          </li>
          <li data-icon="false">
            <a href="#"><img src="css/themes/images/calendarIcon.png">
                <h2 class="ui-li-heading">Your Calendar</h2>
                <p class="ui-li-desc"><strong id="schedule1"></strong></p>
                <p class="ui-li-desc"><strong id="schedule2"></strong></p>
            </a>
          </li>
          <li data-icon="false">
            <a href="#"><img src="css/themes/images/tasksIcon.png">
                <h2 class="">You Have</h2>
                <p class=""><strong id="hmPLeaves">10 Privilege Leaves</strong></p>
                <p class=""><strong id="hmCLeaves">6 Casual Leaves</strong></p>
                <p class=""><strong id="hmSLeaves">5 Sick Leaves</strong></p>
            </a>
          </li>
          <li data-icon="false">
            <a href="#"><img src="css/themes/images/moneyIcon.png">
                <h2 class="">Your Pay</h2>
                <p class=""><strong id="hmgrPay">Gross Pay : $2255.00</strong></p>
                <p class=""><strong id="hmTax">Tax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $150.00</strong></p>
                <p class=""><strong id="hmtkHome">Take Home&nbsp;&nbsp; : $2105.00</strong></p>
            </a>
           </li>
        </ul>
        
    </div>

    <!-- Profile Page -->
    <div data-role="page" id="profile" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span>
                <a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
                <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Profile</a>
            </span>
        </div>
        <ul data-role="listview" data-inset="true" class="ui-listview ui-listview-inset ui-corner-all ui-shadow">
            <li class="ui-li-static ui-body-inherit ui-first-child">
                <h3> &nbsp;Personal Info</h3>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-user ui-btn-icon-notext"></a><strong id="prName">Shravan Kumar Varala</strong></p>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-location ui-btn-icon-notext"></a><strong id="prCity">Nizamabad, India</strong></p>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-phone ui-btn-icon-notext"></a><strong id="prContact">9000461056</strong></p>
                <p  class="ui-li-aside ui-btn  ui-corner-all ui-shadow ui-icon-edit ui-btn-icon-notext" id="editPersnInfo"></p>
            </li>
            <li class="ui-li-static ui-body-inherit ">
                <h3>Work Info</h3>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-star ui-btn-icon-notext"></a><strong id="prDesg">Member Technical, NAS GPT</strong></p>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-mail ui-btn-icon-notext"></a><strong id="prEmail">shravan.varala@adp.com</strong></p>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-location ui-btn-icon-notext"></a><strong id="prWrkLcn">Hyderabad, India</strong></p>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-phone ui-btn-icon-notext"></a><strong id="prOffcCntct">040-64648457</strong></p>
                <p class="ui-li-aside"></p>
            </li>
            <li class="ui-li-static ui-body-inherit ui-last-child">
                <h3> &nbsp;Emergency Contact</h3>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-user ui-btn-icon-notext"></a><strong id="prEmName">Narender, Father</strong></p>
                <p><a class="ui-btn ui-btn-inline ui-corner-all ui-icon-phone ui-btn-icon-notext"></a><strong id="prEmContact">9949422172</strong></p>
                <p class="ui-li-aside ui-btn  ui-corner-all ui-shadow ui-icon-edit ui-btn-icon-notext" id="editEmContact"></p>
            </li>
        </ul>
    </div>
    <!-- Edit Personal Info -->
    <div data-role="page" id="editPersonalInfo" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Edit Perosnal Information</a></span>
        </div>
       
        <div class="ui-field-contain">
            <label for="pefullname">Full Name</label>
            <input type="text" name="pefullname" id="pefullname" value="" />
        </div>
        <div class="ui-field-contain">
            <label for="pecity">City</label>
            <input type="text" name="pecity" id="pecity">
        </div>
        <div class="ui-field-contain">
            <label for="pecontact">Contact</label>
            <input type="tel" name="pecontact" id="pecontact">
        </div>
        <div style="display:inline-block; vertical-align: middle;">
            <a href="#" data-role="button" id="btnSavePersonalInfo" data-inline="true">Save</a>
            <a href="#profile"style="position: relative;left:95%" data-role="button" data-inline="true" >Cancel</a>
        </div>
    </div>
    <!-- Edit Emergency Contact Info -->
    <div data-role="page" id="editEmergencyInfo" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Edit Emergency Contact</a></span>
        </div>
       
        <div class="ui-field-contain">
            <label for="eename">Name</label>
            <input type="text" name="eename" id="eename" value="" />
        </div>
        <div class="ui-field-contain">
            <label for="eecontact">Contact</label>
            <input type="tel" name="eecontact" id="eecontact">
        </div>
        <div style="display:inline-block; vertical-align: middle;">
            <a href="#" id="btnEmSave" data-role="button" data-inline="true">Save</a>
            <a href="#profile" id="btnEmCancel" style="position: relative;left:95%" data-role="button" data-inline="true" >Cancel</a>
        </div>
    </div>
    <!-- Calendar Page -->
    <div data-role="page" id="calendar" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calendar</a></span>
        </div>
        <!-- <input type="date" name="date" id="date" value="" > -->
        <input type="text" id="datepicker"></input>
        <ul data-role="listview" data-inset="true">
            <!-- <li data-role="divider">Schedule. .</li> -->
            <li>
                <a href="#" >
                <h2>9.00 AM - 10.00 AM</h2>
                <p>No Schedule</p>
                </a>
                <a href="#"  class="addMeeting" data-transition="pop" data-icon="plus">Add Meeting</a>
            </li>
            <li>
                <a href="#">
                  <h2>10.00 AM - 11.00 AM</h2>
                  <p>Dev's Meeting. Agenda - Off Cycle Check</p>
                </a>
                <a href="#"  class="addMeeting" data-transition="pop" data-icon="plus">Add Meeting</a>
            </li>
            <li>
                <a href="#">
                <h2>11.00 AM - 12.00 PM</h2>
                <p>No Schedule</p>
                </a>
                <a href="#" class="addMeeting" data-transition="pop" data-icon="plus">Add Meeting</a>
            </li>
            <li>
                <a href="#" >
                <h2>12.00 PM - 1.00 PM</h2>
                <p>No Schedule</p>
                </a>
                <a href="#" class="addMeeting" data-transition="pop" data-icon="plus">Add Meeting</a>
            </li>
        </ul>
        <a href="#popupAddMeet" id="addMeet" data-rel="popup" data-position-to="" data-transition="pop"></a>
        <div data-role="popup" id="popupAddMeet" data-theme="a" class="ui-corner-all">
           
                <div style="padding:10px 20px;">
                    <h3>Add Meeting</h3>
                    <label for="frmTime" class="ui-hidden-accessible">From:</label>
                    <input type="text" name="frmTime" id="frmTime" value="" placeholder="from" data-theme="a">
                    <label for="toTime" class="ui-hidden-accessible">To:</label>
                    <input type="text" name="toTime" id="toTime" value="" placeholder="to" data-theme="a">
                    <label for="desc" class="ui-hidden-accessible">Desc/Agenda:</label>
                    <input type="text" name="desc" id="desc" value="" placeholder="Desc/Agenda" data-theme="a">
                    <button type="" id="btnAddMeet" class="ui-btn ui-corner-all ui-shadow ui-btn-b ui-btn-icon-left ui-icon-check">Done</button>
                </div>
            
        </div>
    </div>
    <!-- Pay Page -->
    <div data-role="page" id="paypage" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pay</a></span>
        </div>
        <div data-role="main" class="ui-content">
            <ul data-role="listview" data-inset="true">
              <li style="background-color:burlywood;" data-role="list-divider">Pay Details</li>
              <li>
                    <div class="ui-grid-a">
                      <div class="ui-block-a" style="border:1px  ;"><span>Gross Pay</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="pygross">$45889678.0</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Regular Pay</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="pyregular">$897456.0</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Tax</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="pytax">$4598.0</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Other</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="pyother">$4598.0</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Garnishment</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="pygarnish">$4598.0</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Take Home</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="pytakehome">$4598.0</span></div>
                    </div>
              </li>
            </ul>
            <ul data-role="listview" data-inset="true">
                <li style="background-color:burlywood;" data-role="list-divider">Tax withholding</li>
                  <li>
                        <div data-role="collapsibleset">
                            <div data-role="collapsible">
                                <h3>Federal</h3>
                                <div class="ui-field-contain">
                                    <label for="marStatus">Marital Status</label>
                                    <select name="marStatus" id="marStatus">
                                        <option value="Single">Single</option>
                                        <option value="Married">Married</option>
                                        <option value="Divorced">Divorced</option>
                                    </select>
                                </div>
                                <div class="ui-field-contain">
                                    <label for="exemAmt">Exemptions</label>
                                    <input type="tel" name="exemAmt" id="exemAmt">
                                </div>
                                <div class="ui-field-contain">
                                    <label for="addWhAmt">Additional Withholdings</label>
                                    <input type="tel" name="addWhAmt" id="addWhAmt">
                                </div>
                            </div>
                            <div data-role="collapsible">
                                <h3>State</h3>
                                <div class="ui-field-contain">
                                    <label for="stWrkdIn">State Worked In</label>
                                    <select name="stWrkdIn" id="stWrkdIn">
                                        <option value="Alabama">Alabama</option>
                                        <option value="Arizona">Arizona</option>
                                        <option value="Indiana">Indiana</option>
                                        <option value="New York">New York</option>
                                        <option value="Ohio">Ohio</option>
                                    </select>
                                </div> 
                                <div class="ui-field-contain">
                                    <label for="stLvdIn">State Lived In</label>
                                    <select name="stLvdIn" id="stLvdIn">
                                        <option value="Alabama">Alabama</option>
                                        <option value="Arizona">Arizona</option>
                                        <option value="Indiana">Indiana</option>
                                        <option value="New York">New York</option>
                                        <option value="Ohio">Ohio</option>
                                    </select>
                                </div>
                                <div class="ui-field-contain">
                                    <label for="suSDI">School District (SUI/SDI)</label>
                                    <select name="suSDI" id="suSDI">
                                        <option value="Alabama">Alabama</option>
                                        <option value="Arizona">Arizona</option>
                                        <option value="Indiana">Indiana</option>
                                        <option value="New York">New York</option>
                                        <option value="Ohio">Ohio</option>
                                    </select>
                                </div>
                            </div>
                            <div data-role="collapsible">
                                <h3>Local</h3>
                                <div class="ui-field-contain">
                                    <label for="lvdLocal">LivedIn Local</label>
                                    <select name="lvdLocal" id="lvdLocal">
                                        <option value="3901-Philadelphia">3901-Philadelphia</option>
                                        <option value="109F-Kansas City MO">109F-Kansas City MO</option>
                                        <option value="1801-Louisville KY">1801-Louisville KY</option>
                                        <option value="2075-Vigo County IN">2075-Vigo County IN</option>
                                    </select>
                                </div>
                                <div class="ui-field-contain">
                                    <label for="wrkLocal">WorkedIn Local</label>
                                    <select name="wrkLocal" id="wrkLocal">
                                        <option value="3901-Philadelphia">3901-Philadelphia</option>
                                        <option value="109F-Kansas City MO">109F-Kansas City MO</option>
                                        <option value="1801-Louisville KY">1801-Louisville KY</option>
                                        <option value="2075-Vigo County IN">2075-Vigo County IN</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div><a href="#" data-role="button" data-icon="check" id="btnSaveTaxWh">Save Changes</a></div>
                  </li> 
            </ul>
            <a href="#popupPaySave" id="paySavePop" data-rel="popup" data-position-to="" data-transition="pop"></a>
            <div data-role="popup" id="popupPaySave" data-theme="a" class="ui-corner-all">
                    <div style="padding:10px 20px;">
                        <h3 id="paySaveMsg">Saved Successfully</h3>
                    </div>
            </div> 
        </div>
    </div>
    <!-- TimeCard Page -->
    <div data-role="page" id="timecard" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timecard</a></span>
        </div>
        <!-- <input type="date" name="date" id="date" value="" > -->
        <!-- <h3 id="curWeek"> </h3> -->
        <table data-role="table" data-mode="" class="ui-responsive ui-shadow" id="tblTimeCard">
          <thead>
            <tr>
              <th data-priority="1">Day</th>
              <th data-priority="2">Logged In</th>
              <th data-priority="3">Logged Out</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>11/01</td>
              <td>9.00 AM</td>
              <td>6.00 PM</td>
            </tr>
          </tbody>
        </table>
    </div>
    <!-- Leaves Page -->
    <div data-role="page" id="leavepage" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#home" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Leaves</a></span>
        </div>
        <div data-role="main" class="ui-content">
            <ul data-role="listview" data-inset="true">
              <li style="background-color:burlywood;" data-role="list-divider">Available Leaves</li>
              <li>
                    <div class="ui-grid-a">
                      <div class="ui-block-a" style="border:1px  ;"><span>Privilege (PL)</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="prLeaves">10</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Casual (CL)</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="caLeaves">6</span></div>
                      <div class="ui-block-a" style="border:1px  ;"><span>Sick (SL)</span></div>
                      <div class="ui-block-b" style="border:1px  ;"><span id="siLeaves">2</span></div>
                    </div>
              </li>
              <li style="background-color:burlywood;" data-role="list-divider">Apply Leave</li>
              <li>
                    <div style="padding:10px 20px;">
                    <label for="frmTime" >From</label>
                    <input type="text" name="frmTime" id="frmDate" value="" placeholder="mm/dd/yyyy" data-theme="a">
                    <label for="toTime">To</label>
                    <input type="text" name="toTime" id="toDate" value="" placeholder="mm/dd/yyyy" data-theme="a">
                    <label for="leaveType">Leave Type</label>
                    <select name="leaveType" id="leaveType">
                        <option value="Privilege">Privilege</option>
                        <option value="Casual">Casual</option>
                        <option value="Sick">Sick</option>>
                    </select>
                    <button type="" id="btnApplyLeave" class="ui-btn ui-corner-all ui-shadow ui-btn-b ui-btn-icon-left ui-icon-check">Apply</button>
                </div>
                <li>
            </ul>
            <ul data-role="listview"  data-inset="true">
              <li><a id="apldLeaves" href="#">View Applied Leaves</a></li>
            </ul> 
            <a href="#popupApplyError" id="applyError" data-rel="popup" data-position-to="" data-transition="pop"></a>
            <div data-role="popup" id="popupApplyError" data-theme="a" class="ui-corner-all">
                    <div style="padding:10px 20px;">
                        <h3 id="leaveError">Not Valid</h3>
                    </div>
            </div>
        </div>
    </div>
    <!-- Applied Leaves Page -->
     <div data-role="page" id="appliedLeaves" data-theme="a">
        <div data-role="header" data-position="fixed">
            <span><a href="#leavepage" style="background-color:#50a7e6;border:0;" class="ui-btn  ui-icon-carat-l ui-btn-icon-notext"></a>
            <a style="color:#FFFAF0;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Applied Leaves</a></span>
        </div>
        <div data-role="main" class="ui-content">
            <!-- <div class="ui-grid-b" id="leaveTable">
                  <div class="ui-block-a" style="border:1px  solid;"><span>From</span></div>
                  <div class="ui-block-b" style="border:1px  solid;"><span>To</span></div>
                  <div class="ui-block-c" style="border:1px  solid;"><span>Type</span></div>
            </div> -->
            <table data-role="table" data-mode="" class="ui-responsive ui-shadow" id="tblApldLeaves">
              <thead>
                <tr>
                  <th data-priority="1">From</th>
                  <th data-priority="2">To</th>
                  <th data-priority="3">Leave Type</th>
                </tr>
              </thead>
              <tbody>
                
              </tbody>
            </table>
            <b id="noLeaves"> No Applied Leaves</b>
        </div>
       
    </div>
    <!-- UI Ends Here -->
    <!-- script -->
    <script>
        var date = new Date();
        var dateString = (date.getMonth()+1).toString()+"/"+date.getDate()+"/"+date.getFullYear();
        var loggedInUser = "";
        var profileObj = {};
        var payObj = {};
        var leaveObj = {};
        var newLeaveObj = {};

        var db = window.openDatabase("TestDB", "1.0", "TestDB", 200000);
        $( document ).ready(function() {
            onLoad();
            //console.info(msgString);
        });
        $(document).on("pagecreate","#login",function(){
            
           $("#btnLogin").on("click",function(){
                var uid=$("#userId").val().trim();
                var pwd=$("#userPwd").val().trim();
                if(uid != null && uid !="" && pwd !=null && pwd !=""){
                    loggedInUser = uid;
                    authenticate();
                }
            });
        });
        
        $(document).on("pagecreate","#home",function(){
           leaveMethods.fetchAvailableLeaves();
           payMethods.fetchDetails();
           $("#schedule1").html("10.00 AM Dev Meeting");
           $("#schedule2").html("11.00 AM Release Planning");
           $("#invalidLogin").hide();

           $("#logClockIcon").on("click",function(){
                logTimeMethods.updateTodayLogoutTime();
           });

           $("#menuLogout").on("click",function(){
                document.addEventListener("backbutton", backButtonCalBack, false);
           });

           $("#menuProfile").on("click",function(){
                
           });
           
           $("#menuPay").on("click",function(){
                payMethods.populateData();
           });

           $("#menuLeaves").on("click",function(){
                $("#frmDate").val("");
                $("#toDate").val("");
            });
           $("#menuTimecard").on("click",function(){
                logTimeMethods.fetchTotalLogTimes();
            });
           
        });

        $(document).on("pagecreate","#profile",function(){
            
           $("#editPersnInfo").on("click",function(){
                var fName   =$("#prName").html().trim();
                var city    =$("#prCity").html().trim();
                var contact =$("#prContact").html().trim();
                $("#pefullname").val(fName);
                $("#pecity").val(city);
                $("#pecontact").val(contact);
                $.mobile.changePage("#editPersonalInfo");
            });

           $("#editEmContact").on("click",function(){
                var name   =$("#prEmName").html().trim();
                var contact =$("#prEmContact").html().trim();
                $("#eename").val(name);
                $("#eecontact").val(contact);
                $.mobile.changePage("#editEmergencyInfo");
            });
        });

        $(document).on("pagecreate","#editPersonalInfo",function(){
            $("#btnSavePersonalInfo").on("click",function(e){
                e.preventDefault();
                var fName   =$("#pefullname").val().trim();
                var city    =$("#pecity").val().trim();
                var contact =$("#pecontact").val().trim();
                profileObj.name = fName;
                profileObj.city = city;
                profileObj.contact = contact;
                $("#prName").html(fName);
                $("#prCity").html(city);
                $("#prContact").html(contact);
                //$.mobile.changePage("#profile");
                profile.updateDetails();
            });
           
        });
        
        $(document).on("pagecreate","#editEmergencyInfo",function(){
           $("#btnEmSave").on("click",function(e){
                e.preventDefault();
                var eName   = $("#eename").val().trim();
                var eContact = $("#eecontact").val().trim();
                profileObj.emer_name = eName;
                profileObj.emer_contact = eContact;
                $("#prEmName").html(eName);
                $("#prEmContact").html(eContact);
                profile.updateDetails();
           });
        });

        $(document).on("pagecreate","#paypage",function(){
            payMethods.populateData();
            $("#btnSaveTaxWh").on("click",function(e){
                e.preventDefault();
                payObj.marital_status = $("#marStatus").val().trim();
                payObj.exemptions =  $("#exemAmt").val().trim();;
                payObj.addnl_witholdings =  $("#addWhAmt").val().trim();
                payObj.worked_state = $("#stWrkdIn").val().trim();
                payObj.lived_state = $("#stLvdIn").val().trim();
                payObj.suisdi = $("#suSDI").val().trim();
                payObj.lived_loc = $("#lvdLocal").val().trim();
                payObj.worked_loc = $("#wrkLocal").val().trim();
                //$.mobile.changePage("#profile");
                payMethods.updateDetails();
            });
        });

        $(document).on("pagecreate","#calendar",function(){
          
           $("#datepicker").datepicker();
           
           $(".addMeeting").on("click",function(e){
                e.preventDefault();
                var times = $(this).prev().children("h2:first-child").html();
                $(frmTime).val(times.split("-")[0].trim());
                $(toTime).val(times.split("-")[1].trim());
                $( "#popupAddMeet" ).popup( "open" );
           });
           
           $("#btnAddMeet").on("click",function(e){
                e.preventDefault();
                $( "#popupAddMeet" ).popup( "close" );
           });
        });
        
        $(document).on("pagecreate","#timecard",function(){
            /*var week = startAndEndOfWeek(date);
            var startDate = (week[0].getMonth()+1).toString()+"/"+week[0].getDate()+"/"+week[0].getFullYear();
            var endDate = (week[1].getMonth()+1).toString()+"/"+week[1].getDate()+"/"+week[1].getFullYear();
            $("#curWeek").html("Week : "+startDate+" - "+endDate);*/
        });

        $(document).on("pagecreate","#leavepage",function(){
             $("#frmDate").datepicker();
             $("#toDate").datepicker();
             $("#btnApplyLeave").on("click",function(e){
                e.preventDefault();
                var lfrmDate = $("#frmDate").val().trim(); 
                var ltoDate =  $("#toDate").val().trim();
                if(lfrmDate != null && lfrmDate !="" && ltoDate != null && ltoDate !=""){
                    var tmpDate = new Date();
                    var tmpDate2 = new Date();
                    var tmpArr = lfrmDate.split("/");
                    var tmpArr2 =  ltoDate.split("/");
                    tmpDate.setDate(tmpArr[1]);
                    tmpDate.setMonth(tmpArr[0]);
                    tmpDate.setYear(tmpArr[2]);
                    tmpDate2.setDate(tmpArr2[1]);
                    tmpDate2.setMonth(tmpArr2[0]);
                    tmpDate2.setYear(tmpArr2[2]);
                    var count = diffbtwnDates(tmpDate, tmpDate2);
                    count++;
                    if(count > 0){
                        var lType = $("#leaveType").val().trim();
                        var isvalid = true;
                        switch(lType){
                            case "Privilege": if((leaveObj.privilege - count) < 0){
                                                    isvalid = false;
                                              }
                                              break;

                            case "Sick": if((leaveObj.sick) - count < 0){
                                                    isvalid = false;
                                              }
                                              break;

                            case "Casual": if((leaveObj.casual - count) < 0){
                                                    isvalid = false;
                                              }
                                              break;
                             default : break;
                        }
                        if(isvalid){
                            newLeaveObj = {
                                fromDate: lfrmDate,
                                toDate: ltoDate,
                                leaveType: lType
                            };
                            if(lType === "Privilege"){
                                leaveObj.privilege = leaveObj.privilege-count;
                            }else if(lType === "Sick"){
                                leaveObj.sick = leaveObj.sick-count;
                            }else if(lType === "Casual"){
                                leaveObj.casual = leaveObj.casual-count;
                            }
                            leaveMethods.updateAvailableLeaves();
                            leaveMethods.insertNewLeave();
                        }else{
                            $("#leaveError").html("Not in Available Limit");
                            $( "#popupApplyError" ).popup( "open" );
                        }
                    
                    }else{
                        $("#leaveError").html("Dates not valid");
                        $( "#popupApplyError" ).popup( "open" );
                    }
                    
                }else{
                    $("#leaveError").html("Dates not valid");
                    $( "#popupApplyError" ).popup( "open" );
                }
           });
           $("#apldLeaves").on("click",function(e){
                e.preventDefault();
                leaveMethods.fetchAppliedLeaves();
                $.mobile.changePage("#appliedLeaves");
           });
        });
        $(document).on("pagecreate","#appliedLeaves",function(){
            
            //leaveMethods.fetchAppliedLeaves();
        });
    </script>
</body>
</html>